"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6],{8247:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294);const r=function(e){var t=e.children;return n.createElement("div",{className:"container is-max-desktop content is-large has-text-centered"},n.createElement("div",{className:"notification is-primary"},n.createElement("div",{className:"material-icons"},"refresh"),n.createElement("h5",{className:"title is-5"},t)))}},1006:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var n=a(7294),r=a(2571),l=a(3727);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const i=function(e){var t,a,r=e.servers,i=e.setActiveServer,s=e.setTextChannel,o=e.setChatData,m=(t=(0,n.useState)(null),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}}(t,a)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=m[0],d=m[1],f=function(e){i(e),s(null),o([]),u&&document.getElementById(u).classList.remove("active-img"),document.getElementById(e).classList.add("active-img"),d(e)};return n.createElement("div",{className:"box"},n.createElement("ul",null,n.createElement("li",{style:{paddingTop:"15px",paddingLeft:"5px"}},n.createElement(l.rU,{to:"/createserver",className:"button is-link is-small is-rounded"},n.createElement("i",{className:"material-icons"},"add"),"Create")),n.createElement("li",{style:{paddingTop:"15px",paddingLeft:"5px"}},n.createElement(l.rU,{to:"/explore",className:"button is-small is-rounded"},n.createElement("i",{className:"material-icons"},"search"),"Explore")),r.map((function(e){return n.createElement("li",{key:e.id,style:{paddingTop:"15px",paddingLeft:"5px"}},n.createElement("figure",{className:"image is-64x54 is-rounded"},n.createElement("a",{onClick:f.bind(void 0,e.id)},n.createElement("img",{id:e.id,src:e.picture,className:" is-rounded"}))))}))))};var s=a(8247),o=a(6748),m=a(9669),u=a.n(m);const d=function(e){var t=e.chat,a=e.isAdmin,r=e.handleDeleteMsg;return n.createElement("li",{className:"pt-3",key:t.id},n.createElement("article",{className:"media"},n.createElement("figure",{className:"media-left"},n.createElement("p",{className:"image is-64x64"},n.createElement("img",{className:"is-rounded",src:t.user.profile.picture}))),n.createElement("div",{className:"media-content"},n.createElement("div",{className:"content"},n.createElement("p",null,n.createElement("strong",null,t.user.username)," | ",n.createElement("small",null,t.date)),n.createElement("p",null,t.body),/(\.mp3|\.aac|\.wav|\.flac|\.alac|\.dsd)$/i.exec(t.file)?n.createElement("audio",{controls:!0,preload:"auto",muted:!0},n.createElement("source",{src:t.file}),"Not supported"):/(\.mp4|\.ogg|\.mkv|\.avi|\.mov|\.webm|\.swf|\.wmv|\.flv)$/i.exec(t.file)?n.createElement("video",{width:"320",height:"240",controls:!0,loop:!0,autoPlay:!1},n.createElement("source",{src:t.file}),"Not supported"):/(\.jpg|\.jpeg|\.png|\.gif|\.svg)$/i.exec(t.file)?n.createElement("img",{src:t.file}):"")),a?n.createElement("div",{className:"media-right"},n.createElement("button",{onClick:r,className:"delete",id:t.id})):n.createElement("div",null)))},f=function(e){var t=e.handleSubmit,a=e.setBody,r=e.setChatFile,l=e.chatFile,c=e.body;return n.createElement("form",{onSubmit:t},n.createElement("div",{className:"field"},n.createElement("p",{className:"control"},n.createElement("textarea",{className:"textarea",placeholder:"Write message...",value:c,onChange:function(e){return a(e.target.value)}}))),n.createElement("div",{className:"field"},n.createElement("nav",{className:"level"},n.createElement("div",{className:"level-left"},n.createElement("div",{className:"level-item"},n.createElement("button",{className:"button is-info",type:"submit"},"Submit"))),n.createElement("div",{className:"level-right"},n.createElement("div",{className:"level-item"},n.createElement("div",{className:"file is-right is-info"},n.createElement("label",{className:"file-label"},n.createElement("input",{className:"file-input",type:"file",name:"resume",onChange:function(e){return r(e.target.files[0])}}),n.createElement("span",{className:"file-cta"},n.createElement("span",{className:"file-icon"},n.createElement("i",{className:"material-icons"},"file_upload"))),n.createElement("span",{className:"file-name"},l?null==l?void 0:l.name:"Add a File..."))))))))};function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const g=function(e){var t=e.textChannel,a=e.chatData,r=e.setChatData,l=e.isAdmin,c=e.server,i=p((0,n.useState)(),2),o=i[0],m=i[1],E=p((0,n.useState)(),2),h=E[0],g=E[1],y=p((0,n.useState)(!1),2),N=y[0],b=y[1],C=JSON.parse(localStorage.getItem("user")),S=p((0,n.useState)(),2),x=S[0],k=S[1];(0,n.useEffect)((function(){var e;k(null),t&&(e=t.id,u().get("api/chat/getchats/".concat(e,"/")).then((function(e){return e.data}))).then((function(e){r(e.results),b(!0),e.next&&k(e.next)}))}),[t]);var A=function(e){var t,a;e.preventDefault(),(t=e.target.id,a=c,u().delete("api/chat/deletemessage/".concat(t,"/").concat(a,"/")).then((function(e){return e.data}))).then((function(t){document.getElementById(e.target.id).parentNode.parentNode.style.display="none"}))};return n.createElement(n.Fragment,null,N?n.createElement("div",null,n.createElement("section",{className:"hero is-link"},n.createElement("div",{className:"hero-body"},n.createElement("p",{className:"title"},t?t.title:""),n.createElement("p",{className:"subtitle"},t?t.topic:""))),n.createElement("div",{className:"level-item"},n.createElement("button",{className:"button is-success",onClick:function(e){var t;e.preventDefault(),(t=x,u().get(t).then((function(e){return e.data}))).then((function(e){r([].concat(v(a),v(e.results))),e.next?k(e.next):(k(null),document.getElementById("loadmorebtn").style.display="none")}))},id:"loadmorebtn",style:{display:x?"flex":"none"}},n.createElement("i",{className:"material-icons"},"more_horiz"))),n.createElement("ul",{style:{listStyle:"none",display:"flex",flexDirection:"column-reverse"},className:"collection"},a.map((function(e){return n.createElement(d,{key:e.id,chat:e,isAdmin:l,handleDeleteMsg:A})}))),n.createElement("br",null),n.createElement("article",{className:"media"},n.createElement("figure",{className:"media-left"},n.createElement("p",{className:"image is-64x64"},n.createElement("img",{className:"is-rounded",src:C.picture}))),n.createElement("div",{className:"media-content"},n.createElement(f,{chatFile:h,setChatFile:g,setBody:m,body:o,handleSubmit:function(e){e.preventDefault(),function(e,t,a){var n=new FormData;return t?n.append("file",t):e&&n.append("body",e),n.append("channel",a),u().post("api/chat/sendmessage/",n).then((function(e){return e.data}))}(o,h,t.id).then((function(e){r([e].concat(v(a))),m(""),g("")}))}})))):n.createElement(s.Z,null,"Click on any channel to get the information about that."))};var y=void 0;const N=function(e){var t=e.modalClose,a=e.handleSubmitCategory,r=e.setTitleNewCtg;return n.createElement("div",{className:"modal",id:"add-category-modal"},n.createElement("div",{className:"modal-background"}),n.createElement("div",{className:"modal-card"},n.createElement("form",{onSubmit:a},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Create new category or group"),n.createElement("a",{onClick:t.bind(y,"add-category-modal"),className:"delete","aria-label":"close"})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"field"},n.createElement("label",{className:"label"},"Title"),n.createElement("div",{className:"control"},n.createElement("input",{id:"title",type:"text",maxLength:"25",className:"input",onChange:function(e){return r(e.target.value)}})))),n.createElement("footer",{className:"modal-card-foot"},n.createElement("button",{type:"submit",className:"button is-success"},"Save changes"),n.createElement("a",{onClick:t.bind(y,"add-category-modal"),className:"button"},"Cancel")))))};var b=void 0;const C=function(e){var t=e.handleSubmitChannel,a=e.modalClose,r=e.setTopicNewCh,l=e.setTitleNewCh;return n.createElement("div",{className:"modal",id:"add-channel-modal"},n.createElement("div",{className:"modal-background"}),n.createElement("div",{className:"modal-card"},n.createElement("form",{onSubmit:t},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Create new text channel"),n.createElement("button",{onClick:a.bind(b,"add-channel-modal"),className:"delete","aria-label":"close"})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"field"},n.createElement("label",{className:"label"},"Title"),n.createElement("div",{className:"control"},n.createElement("input",{id:"titleChannel",type:"text",maxLength:"100",className:"input",onChange:function(e){return l(e.target.value)}}))),n.createElement("div",{className:"field"},n.createElement("label",{className:"label"},"Topic"),n.createElement("div",{className:"control"},n.createElement("input",{id:"topic",type:"text",maxLength:"150",className:"input",onChange:function(e){return r(e.target.value)}})))),n.createElement("footer",{className:"modal-card-foot"},n.createElement("button",{type:"submit",className:"button is-success"},"Save changes"),n.createElement("a",{onClick:a.bind(b,"add-channel-modal"),className:"button"},"Cancel")))))},S=function(e){var t=e.members,a=e.isAdmin,l=e.server,c=function(e){e.preventDefault(),(0,r.x7)(e.target.id,l).then((function(t){document.getElementById(e.target.id).parentNode.parentNode.style.display="none"}))};return n.createElement("div",{className:"box"},t.map((function(e){return n.createElement("article",{className:"media",key:e.id},n.createElement("figure",{className:"media-left"},n.createElement("p",{className:"image is-48x48"},n.createElement("img",{className:"is-rounded",src:e.profile.picture}))),n.createElement("div",{className:"media-content"},n.createElement("p",{className:"title is-6"},e.first_name," ",e.last_name),n.createElement("p",{className:"subtitle is-7"},"@",e.username)),a?n.createElement("div",{className:"media-right"},n.createElement("button",{onClick:c,className:"delete",id:e.id})):n.createElement("div",null))})))},x=function(e){var t=e.serverDetail,a=e.modalTrigger,r=e.handleLeaveServer;return n.createElement("div",{className:"card"},n.createElement("div",{className:"card-image"},n.createElement("figure",{className:"image"},n.createElement("img",{src:t.banner}))),n.createElement("div",{className:"card-content"},n.createElement("p",{className:"title is-4"},t.title),n.createElement("p",{className:"subtitle is-6"},t.description)),n.createElement("div",{className:"card-footer"},n.createElement("a",{onClick:a.bind(void 0,"invite-user-modal"),className:"card-footer-item"},"Invite People"),n.createElement("a",{onClick:r,className:"card-footer-item"},"Leave Server")))};var k=void 0;const A=function(e){var t=e.modalTrigger,a=e.serverDetail,r=e.handleCLick;return n.createElement("div",{className:"card"},n.createElement("div",{className:"card-content"},n.createElement("div",{className:"content"},n.createElement("button",{onClick:t.bind(k,"add-category-modal"),className:"button is-small is-primary is-rounded"},n.createElement("span",{className:"icon is-small"},n.createElement("i",{className:"material-icons"},"add")),n.createElement("span",null,"Category")),a.categories.map((function(e){return n.createElement("aside",{className:"menu",key:e.id},n.createElement("hr",null),n.createElement("p",{className:"menu-label"},e.title),n.createElement("button",{onClick:t.bind(k,"add-channel-modal",e.id),className:"button is-small is-primary is-rounded"},n.createElement("span",{className:"icon is-small"},n.createElement("i",{className:"material-icons"},"add")),n.createElement("span",null,"Channel")),n.createElement("ul",{className:"menu-list"},e.text_channels.map((function(e){return n.createElement("li",{key:e.id},n.createElement("a",{onClick:r.bind(k,e)},e.title))}))))})))))};var w=void 0;const D=function(e){e.username;var t=e.setUsername,a=e.handleSubmitInvitation,r=e.modalClose;return n.createElement("div",{className:"modal",id:"invite-user-modal"},n.createElement("div",{className:"modal-background"}),n.createElement("div",{className:"modal-card"},n.createElement("form",{onSubmit:a},n.createElement("header",{className:"modal-card-head"},n.createElement("p",{className:"modal-card-title"},"Invite user"),n.createElement("a",{onClick:r.bind(w,"invite-user-modal"),className:"delete","aria-label":"close"})),n.createElement("section",{className:"modal-card-body"},n.createElement("div",{className:"field"},n.createElement("label",{className:"label"},"Username"),n.createElement("div",{className:"control"},n.createElement("input",{id:"userinviteipt",type:"text",className:"input",onChange:function(e){return t(e.target.value)}})))),n.createElement("footer",{className:"modal-card-foot"},n.createElement("button",{type:"submit",className:"button is-success"},"Save changes"),n.createElement("a",{onClick:r.bind(w,"invite-user-modal"),className:"button"},"Cancel")))))};function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const j=function(e){e.servers;var t=e.activeServer,a=e.setChatData,l=e.textChannel,c=e.setTextChannel,i=e.chatData,m=I((0,n.useState)(),2),u=m[0],d=m[1],f=I((0,n.useState)(!1),2),v=f[0],p=f[1],E=I((0,n.useState)(!1),2),h=E[0],y=E[1],b=I((0,n.useState)(),2),k=b[0],w=b[1],T=I((0,n.useState)(),2),j=T[0],_=T[1],L=I((0,n.useState)(),2),O=L[0],F=L[1],U=I((0,n.useState)(),2),B=U[0],$=U[1],M=I((0,n.useState)(),2),Z=M[0],q=M[1];(0,n.useEffect)((function(){t&&(p(!1),(0,r.co)(t).then((function(e){d(e.data),e.is_admin&&y(!0),p(!0)})))}),[t]);var K=function(e,t){var a=document.getElementById(e);$(t),a.style.display="block"},P=function(e){var t=document.getElementById(e);$(""),t.style.display="none"};return n.createElement(n.Fragment,null,v?n.createElement("main",null,n.createElement(N,{handleSubmitCategory:function(e){e.preventDefault(),(0,r.Kn)(u.id,k).then((function(e){u.categories.push(e),P("add-category-modal")}))},modalClose:P,setTitleNewCtg:w}),n.createElement(C,{handleSubmitChannel:function(e){e.preventDefault(),(0,r.Op)(u.id,B,j,O).then((function(e){u.categories.filter((function(e){return e.id===B}))[0].text_channels.push(e),P("add-channel-modal")}))},modalClose:P,setTopicNewCh:F,setTitleNewCh:_}),n.createElement(D,{handleSubmitInvitation:function(e){e.preventDefault(),(0,o.dt)(Z,u.id).then((function(e){P("invite-user-modal")}))},setUsername:q,username:Z,modalClose:P}),n.createElement("div",{className:"columns pt-1"},n.createElement("div",{className:"column is-2"},n.createElement(x,{handleLeaveServer:function(e){e.preventDefault(),(0,r.O2)(u.id).then((function(e){location.reload()}))},modalTrigger:K,serverDetail:u}),n.createElement(A,{handleCLick:function(e,t){c(e)},modalTrigger:K,serverDetail:u})),n.createElement("div",{className:"column is-7"},n.createElement(g,{textChannel:l,chatData:i,setChatData:a,isAdmin:h,server:u.id})),n.createElement("div",{className:"column is-2"},n.createElement(S,{members:u.members,isAdmin:h,server:u.id})))):n.createElement(s.Z,null,"Click on any server to get the information about that."))};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const O=function(){var e=_((0,n.useState)([]),2),t=e[0],a=e[1],l=_((0,n.useState)(),2),c=l[0],s=l[1],o=_((0,n.useState)(),2),m=o[0],u=o[1],d=_((0,n.useState)(),2),f=d[0],v=d[1];return(0,n.useEffect)((function(){(0,r.sF)().then((function(e){a(e)}))}),[]),n.createElement("div",null,n.createElement("div",{className:"columns"},n.createElement("div",{className:"column is-1"},n.createElement(i,{servers:t,setActiveServer:s,setTextChannel:u,setChatData:v})),n.createElement("div",{className:"column is-11"},n.createElement(j,{servers:t,activeServer:c,textChannel:m,setTextChannel:u,chatData:f,setChatData:v}))))}},6748:(e,t,a)=>{a.d(t,{dt:()=>l,sk:()=>c,_6:()=>i,LC:()=>s,no:()=>o});var n=a(9669),r=a.n(n),l=function(e,t){var a={to_user:e,to_server:t,notification_type:1};return r().post("api/notification/createinvitation/",a).then((function(e){return e.data}))},c=function(e){var t={to_server:e,notification_type:2};return r().post("api/notification/invitation/request/",t).then((function(e){return e.data}))},i=function(){return r().get("api/notification/getnotifications/").then((function(e){return e.data}))},s=function(e){return r().post("api/notification/invitation/".concat(e,"/")).then((function(e){return e.data}))},o=function(e){return r().delete("api/notification/deletenotification/".concat(e,"/")).then((function(e){return e.data}))}},2571:(e,t,a)=>{a.d(t,{nq:()=>l,js:()=>c,vZ:()=>i,Uh:()=>s,sF:()=>o,co:()=>m,Kn:()=>u,Op:()=>d,x7:()=>f,O2:()=>v});var n=a(9669),r=a.n(n),l=function(e){return r().get("api/server/getserverscategory/".concat(e,"/")).then((function(e){return e.data}))},c=function(){return r().get("api/server/getcategories/").then((function(e){return e.data}))},i=function(e){return r().get("api/server/searchserver?search="+e).then((function(e){return e.data}))},s=function(e,t,a,n,l){var c=new FormData;return c.append("picture",e),c.append("banner",t),c.append("title",a),c.append("description",n),c.append("category",l),r().post("api/server/createserver/",c).then((function(e){return e.data}))},o=function(){return r().get("api/server/getservers/").then((function(e){return e.data}))},m=function(e){return r().get("api/server/getserverdetail/".concat(e,"/")).then((function(e){return e.data}))},u=function(e,t){var a={server_id:e,title:t};return r().post("api/server/createcategorychannel/",a).then((function(e){return e.data}))},d=function(e,t,a,n){var l={server_id:e,title:a,category_id:t,topic:n};return r().post("api/server/createtextchannel/",l).then((function(e){return e.data}))},f=function(e,t){return r().delete("api/server/ban/".concat(e,"/").concat(t,"/")).then((function(e){return e.data}))},v=function(e){return r().delete("api/server/leaveserver/".concat(e,"/")).then((function(e){return e.data}))}}}]);